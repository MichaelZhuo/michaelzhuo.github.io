<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Michael's Copilot</title>
    <!-- MDUI CSS -->
    <link rel="stylesheet" href="//res.realtvop.eu.org/mdui/css/mdui.css" />
    <script
      type="text/javascript"
      src="//res.realtvop.eu.org/mdui/js/mdui.js"
    ></script>
    <style>
        
        body {
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 40px;
        }
        .card {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 40px;
        }
        .title {
            font-size: 25px;
            font-weight: bold;
            color: #333333;
            margin-bottom: 10px;
        }
        .content {
            background-color: #e8e7e7;
            border-radius: 15px;
            padding: 20px;
            font-size: 200%;
            color: #666666;
            line-height: 1.6;
        }
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .button {
            background-color: #008cff;
            border: none;
            color: white;
            padding: 15px 10px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border-radius: 10px;
            transition: background-color 0.9s ease;
        }
        .button:hover {
            background-color: #0f3696;
        }
        .weather {
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 40px;
        }
        .weather h2 {
            font-size: 24px;
            font-weight: bold;
            color: #333333;
            margin-bottom: 20px;
        }
        .weather-content {
            background-color: #e8e7e7;
            border-radius: 15px;
            padding: 20px;
            font-size: 16px;
            color: #666666;
            line-height: 1.6;
        }

        .countdown-input {
            width: 35px; /* 设置输入框宽度 */
            padding: 5px; /* 设置输入框内边距 */
            border: 1px solid #ccc; /* 设置边框样式 */
            border-radius: 10px; /* 设置边框圆角 */
            font-size: 16px; /* 设置字体大小 */
            color: #333; /* 设置字体颜色 */
            background-color: #fff; /* 设置背景颜色 */
            outline: none; /* 去除聚焦时的外边框 */
        }

        /* 当输入框聚焦时的样式 */
        .countdown-input:focus {
            border-color: #007bff; /* 设置聚焦时的边框颜色 */
            box-shadow: 0 0 5px #007bff; /* 设置聚焦时的阴影效果 */
        }
    </style>
</head>
<body>
    <header class="appbar mdui-appbar mdui-appbar-fixed mdui-color-black">
        <div class="mdui-toolbar mdui-color-red" style="background-color: black !important;">
          <a class="mdui-typo-headline mdui-hidden-xs mdui-text-color-white">Michael's Copilot</a>
        </div>
      </header>
      


<div class="container" style="padding-top: 40px;">
    <div class="card" >
        <div style="font-size: x-large; color:#F44336; font-weight: bold;">Notifications</div>
        <div class="content" style="font-size: small; margin-top: 10px;">birthday</div>
    </div>
    <!-- 时钟 -->
    <div class="card">
        <div class="title">Beijing(Capital) Time</div>
        <div class="content" id="clock"></div>
        
    </div>

    <!-- 计时器 -->
    <div class="card">
        <div class="title">Timer+</div>
        <div class="content" id="timer">00:00:00.000</div>
        <div class="button-container">
            <button class="button" id="startTimer">Start</button>
            <button class="button" id="stopTimer">Stop</button>
            <button class="button" id="resetTimer">Reset</button>
        </div>
    </div>

        <!-- 倒计时器 -->
    <div class="card">
        <div class="title">Timer-</div>
        <div>
            <label for="countdownHour">Hour</label>
            <input type="number" id="countdownHour" min="0" max="23" value="0" class="countdown-input">
            <label for="countdownMinute">  Minute</label>
            <input type="number" id="countdownMinute" min="0" max="59" value="0" class="countdown-input">
            <label for="countdownSecond">  Second</label>
            <input type="number" id="countdownSecond" min="0" max="59" value="0" class="countdown-input">
        </div>
        <div style="margin-bottom: 20px;"></div>
        <div class="content" id="countdownTimer">00:00:00.000</div>
        <div class="button-container">
            <button class="button" id="startCountdown">Start</button>
            <button class="button" id="pauseCountdown">Stop</button>
            <button class="button" id="resetCountdown">Reset</button>
        </div>
    </div>
    <div class="card">
        <div class="title">Random Name Copilot</div> 
        <div class="content" id="randomNameDisplay">Click to start</div>
        <div class="button-container">
            <button class="button" id="pickRandomName">Name</button>
        </div>
    </div>

    <div class="card">
        <div class="title">Search</div>
        <form id="searchForm" >
            <input type="text" class="content" style="border: none; width: 85%;"id="searchInput" placeholder="Search Bing">
            <div class="button-container">
            <button type="button" class="button" onclick="searchBing()">Search</button>
            </div>
        </form>
    </div>


    <!-- 当前天气部分 -->
<div class="weather">
    <div id="currentWeather">
        <h2>CurrentWeather</h2>
        <div class="weather-content" id="currentWeatherData"></div>
    </div>
    <div id="forecastWeather">
    <h2>ForecastWeather</h2>
    <div class="weather-content" id="forecastWeatherData" style="font-size: 17px;"></div>
    </div>
</div>
</div>

<!-- JavaScript -->
<script>
    
    // 实时北京时间时钟
    function updateClock() {
        var now = new Date();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();
        var milliseconds = now.getMilliseconds();

        var timeString = (hours < 10 ? "0" : "") + hours + ":"
            + (minutes < 10 ? "0" : "") + minutes + ":"
            + (seconds < 10 ? "0" : "") + seconds + "."
            + (milliseconds < 100 ? (milliseconds < 10 ? "00" : "0") : "") + milliseconds;

        document.getElementById('clock').innerHTML = timeString;
    }

    setInterval(updateClock, 1); // 更新时钟每毫秒一次

    // 计时器
    var timer;
    var timerRunning = false;
    var timerStart;
    var timerElapsed = 0;

    function startTimer() {
        if (!timerRunning) {
            timerStart = Date.now() - timerElapsed;
            timer = setInterval(function () {
                var elapsedTime = Date.now() - timerStart;
                var hours = Math.floor(elapsedTime / 3600000);
                var minutes = Math.floor((elapsedTime % 3600000) / 60000);
                var seconds = Math.floor((elapsedTime % 60000) / 1000);
                var milliseconds = elapsedTime % 1000;
                document.getElementById('timer').innerHTML = (hours < 10 ? "0" : "") + hours + ":" + (minutes < 10 ? "0" : "") + minutes + ":" + (seconds < 10 ? "0" : "") + seconds + "." + milliseconds;
                timerElapsed = elapsedTime;
            }, 1); // 每1毫秒更新一次
            timerRunning = true;
        }
    }

    function stopTimer() {
        clearInterval(timer);
        timerRunning = false;
    }

    function resetTimer() {
        clearInterval(timer);
        timerElapsed = 0;
        document.getElementById('timer').innerHTML = "00:00:00.000";
        timerRunning = false;
    }

    document.getElementById('startTimer').addEventListener('click', startTimer);
    document.getElementById('stopTimer').addEventListener('click', stopTimer);
    document.getElementById('resetTimer').addEventListener('click', resetTimer);

    document.addEventListener('DOMContentLoaded', function () {
            const hourInput = document.getElementById('countdownHour');
            const minuteInput = document.getElementById('countdownMinute');
            const secondInput = document.getElementById('countdownSecond');
            const countdownTimer = document.getElementById('countdownTimer');
            const startButton = document.getElementById('startCountdown');
            const pauseButton = document.getElementById('pauseCountdown');
            const resetButton = document.getElementById('resetCountdown');

            let interval;
            let totalMilliseconds = 0;
            let remainingTime = 0;
            let paused = false;

            function updateTimer() {
                let hours = Math.floor(remainingTime / (1000 * 60 * 60));
                let minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
                let seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);
                let milliseconds = remainingTime % 1000;

                hours = String(hours).padStart(2, '0');
                minutes = String(minutes).padStart(2, '0');
                seconds = String(seconds).padStart(2, '0');
                milliseconds = String(milliseconds).padStart(3, '0');

                countdownTimer.textContent = `${hours}:${minutes}:${seconds}.${milliseconds}`;
            }

            function startTimer() {
                interval = setInterval(function () {
                    if (remainingTime > 0) {
                        remainingTime -= 10;
                        updateTimer();
                    } else {
                        clearInterval(interval);
                        updateTimer();
                        alert('倒计时结束！');
                    }
                }, 10);
            }

            function pauseTimer() {
                clearInterval(interval);
                paused = true;
                remainingTime = totalMilliseconds - (totalMilliseconds - remainingTime);
            }

            function resetTimer() {
                clearInterval(interval);
                totalMilliseconds = 0;
                remainingTime = 0;
                updateTimer();
                paused = false;
            }

            startButton.addEventListener('click', function () {
                if (!paused) {
                    totalMilliseconds =
                        (parseInt(hourInput.value) * 60 * 60 * 1000) +
                        (parseInt(minuteInput.value) * 60 * 1000) +
                        (parseInt(secondInput.value) * 1000);
                    remainingTime = totalMilliseconds;
                }
                paused = false;
                startTimer();
            });

            pauseButton.addEventListener('click', pauseTimer);

            resetButton.addEventListener('click', resetTimer);
        });


    // 获取当前天气信息
function getCurrentWeather() {
    fetch('https://api.openweathermap.org/data/2.5/weather?q=Guangzhou&appid=3312dd3be53b1b5b940d6b8665ed3036')
        .then(response => response.json())
        .then(data => {
            // 解析返回的数据
            var currentWeather = `
                Temperature：${(data.main.temp - 273.15).toFixed(1)}°C<br>
                Moisture Content：${data.main.humidity}%<br>
                Wind Speed：${data.wind.speed} 米/秒，${data.wind.deg}°<br>
                Atmospheric Pressure：${data.main.pressure} hPa<br>
                Weather：${data.weather[0].description}<br>
                Sunrise Time：${new Date(data.sys.sunrise * 1000).toLocaleTimeString()}<br>
                Sunset Time：${new Date(data.sys.sunset * 1000).toLocaleTimeString()}
            `;
            // 在页面上显示当前天气信息
            document.getElementById('currentWeatherData').innerHTML = currentWeather;
        })
        .catch(error => {
            console.error('Error:', error);
        });
}

// 获取未来天气预报信息
function getForecastWeather() {
    fetch('https://api.openweathermap.org/data/2.5/forecast?q=Guangzhou&appid=3312dd3be53b1b5b940d6b8665ed3036')
        .then(response => response.json())
        .then(data => {
            // 解析返回的数据
            var forecastWeather = '<h3>Forecast Weather</h3>';
            for (var i = 0; i < data.list.length; i++) {
                var forecast = data.list[i];
                var forecastDate = new Date(forecast.dt * 1000);
                var forecastDateString = forecastDate.toLocaleDateString();
                var forecastTimeString = forecastDate.toLocaleTimeString();
                forecastWeather += `
                    <div>${forecastDateString} ${forecastTimeString}</div>
                    <div>Temperature：${(forecast.main.temp - 273.15).toFixed(1)}°C</div>
                    <div>Moisture Content：${forecast.main.humidity}%</div>
                    <div>Weather：${forecast.weather[0].description}</div>
                    <div>Precipitation probability：${(forecast.pop * 100).toFixed(0)}%</div>
                    <br>
                `;
            }
            // 在页面上显示未来天气预报信息
            document.getElementById('forecastWeatherData').innerHTML = forecastWeather;
        })
        .catch(error => {
            console.error('获取未来天气预报信息时出错:', error);
        });
}

// 页面加载时获取当前天气信息和未来天气预报信息
window.onload = function() {
    getCurrentWeather();
    getForecastWeather();
};

    // 学生信息
    var students = {
            "1": "曾梓涵",
            "2": "陈嘉昊",
            "3": "陈锦泽",
            "4": "陈昕昊",
            "5": "陈旭睿",
            "6": "方子荣",
            "7": "何羿",
            "8": "吉思宇",
            "9": "纪明希",
            "10": "李君昊",
            "11": "沈安南",
            "12": "吴展鹏",
            "13": "向吉可",
            "14": "许智轩",
            "15": "易宇宸",
            "16": "郑铭峰",
            "17": "钟浩宇",
            "18": "钟盛昌",
            "19": "周彦君",
            "20": "卓皓轩",
            "21": "曹茜",
            "22": "曾婧恩",
            "23": "陈彦君",
            "24": "陈英悦",
            "25": "陈芷瑶",
            "26": "龚子涵",
            "27": "洪懿",
            "28": "胡书勤",
            "29": "黄若菡",
            "30": "雷诗涵",
            "31": "李琛慧",
            "32": "梁靖悦",
            "33": "秦华穗",
            "34": "唐瑄",
            "35": "陶婧萱",
            "36": "王爱岚",
            "37": "王静怡",
            "38": "王雨昕",
            "39": "吴诗瑜",
            "40": "徐采玥",
            "41": "许原菲",
            "42": "易可欣",
            "43": "张蕊",
            "44": "赵书佳",
            "45": "钟雨霖"
        };

    // 点名事件处理函数
    document.getElementById('pickRandomName').addEventListener('click', function() {
        // 随机选择一个学生
        var studentIds = Object.keys(students);
        var randomIndex = Math.floor(Math.random() * studentIds.length);
        var randomStudentId = studentIds[randomIndex];
        var randomStudentName = students[randomStudentId];

        // 显示随机选中的学生姓名和学号
        var displayElement = document.getElementById('randomNameDisplay');
        displayElement.innerHTML = "<strong>No:</strong> " + randomStudentId + ", <strong>Name:</strong> " + randomStudentName;
    });
    function searchBing() {
            // 获取搜索框中的文本内容
            var searchText = document.getElementById('searchInput').value;

            // 检查搜索内容是否为空
            if (searchText.trim() !== "") {
                // 构建必应搜索的URL
                var bingSearchURL = "https://www.bing.com/search?q=" + encodeURIComponent(searchText);

                // 跳转到搜索结果页面
                window.location.href = bingSearchURL;
            } else {
                alert("请输入搜索内容");
            }
        }
</script>

</body>
</html>
